# ✅ Вариант 11. Анализ расхода воды в городских трубопроводах 🚰🏙️

**Все исходные данные должны быть случайными. Для проверки используйте приведенные примеры, чтобы убедиться в правильности расчетов.**

**Входные данные:**

* Расход воды в трубе 1 (л/мин): *например,* `[120, 125, 123, 128, 130, 127, 129, 131, 126, 124]`
* Расход воды в трубе 2 (л/мин): *например,* `[118, 122, 121, 125, 127, 124, 126, 129, 123, 122]`
* Номера замеров: *например,* `[1,2,3,4,5,6,7,8,9,10]`
* Коэффициенты корректировки: *например,* `[1.0, 1.02, 0.98, 1.01, 1.0, 0.99, 1.03, 1.0, 1.01, 0.97]`
* Пороговые значения расхода: *например,* `[125,127,126,128,130,129,131,132,127,128]`

---

**Создадим вспомогательные массивы:**

* Массив допустимых колебаний расхода (все элементы = 3) *(поэлементное заполнение)*  
  *Пояснение: позволяет отслеживать безопасный диапазон расхода воды.*
* Массив базового расхода *(поэлементное заполнение)*  
  *Пояснение: используется для сравнения с фактическими измерениями.*

---

**Проанализируем структуру массивов:**

* Определим форму, типы данных, количество элементов  
  *Пояснение: важно для корректного выполнения операций с массивами.*

---

**Склеим массивы:**

* Расход двух труб вертикально *(вертикальная конкатенация)*, *например:*

```
[[120,125,123,128,130,127,129,131,126,124],
 [118,122,121,125,127,124,126,129,123,122]]
```

*Пояснение: позволяет сразу сравнивать две трубы по всем замерам.*

* Расход двух труб горизонтально *(горизонтальная конкатенация)*, *например:*

```
[[120,118],
 [125,122],
 [123,121],
 [128,125],
 [130,127],
 [127,124],
 [129,126],
 [131,129],
 [126,123],
 [124,122]]
```

*Пояснение: удобно анализировать динамику расхода по каждому замеру.*

* Таблица «замер + две трубы» (матрица 10×3), *например:*

```
[[1,2,3,4,5,6,7,8,9,10],
 [120,125,123,128,130,127,129,131,126,124],
 [118,122,121,125,127,124,126,129,123,122]]
```

*Пояснение: таблицу можно транспонировать для анализа по замерам или по трубам.*

---

**Анализ единичных данных:**

* Расход первой трубы первого замера, *например:* `120`  
  *Пояснение: проверка доступа к элементу массива.*
* Максимальный расход во второй трубе *(булева маска + argmax)*, *например:* `129`  
  *Пояснение: выявление экстремальных значений для контроля подачи.*
* Минимальный расход в первой трубе, *например:* `120`  
  *Пояснение: определение критических точек расхода.*
* Последние три замера *(срез)*, *например:* `[129,131,126],[126,129,123]`  
  *Пояснение: анализ последних значений для оперативного контроля.*

---

**Оценим динамику изменений:**

* Поэлементная разница трубы1 – труба2 *(поэлементная операция)*, *например:* `[2,3,2,3,3,3,3,2,3,2]`  
  *Пояснение: позволяет оценить разницу расхода по трубам в каждый момент времени.*
* Скользящее среднее трубы 1 (окно=3), *например:* `[122.67,125.33,127,128.33,128.67,129,128.67,129,129.33,127]`  
  *Пояснение: выявление трендов расхода воды.*
* Процентная разница `(труба1-труба2)/труба2*100`, *например:* `[1.69,2.46,1.65,2.4,2.36,2.42,2.38,1.55,2.44,1.64]`  
  *Пояснение: оценка относительных изменений расхода.*
* Корректировка расхода коэффициентами *(матричное преобразование)*, *например:* `[120,127.5,120.54,129.28,130,125.73,132.87,131,127.26,120.34]`  
  *Пояснение: моделирование влияния регулировки системы на расход.*
* Булева маска превышения порога (>128 л/мин), *например:* `[False,False,False,True,True,False,True,True,False,False]`  
  *Пояснение: фильтрация критических показателей расхода.*

---

**Статистические показатели:**

* Средние, мин./макс. расхода, *например:* 127 и 131  
  *Пояснение: базовые показатели для оценки работы системы.*
* Медиана и стандартное отклонение, *например:* 127 и 3  
  *Пояснение: оценка распределения расхода для стабильности сети.*
* Суммарный расход по трубам, *например:* 1263 + 1237 = 2500  
  *Пояснение: агрегированная оценка общей подачи воды.*
* Количество замеров, где расход > порога, *например:* 4  
  *Пояснение: показывает частоту превышения допустимого расхода.*
* Разница суммарных и средних значений труб, *например:* суммарная = 26, средняя = 2.6  
  *Пояснение: оценка общей разницы между трубами.*
* Индекс замера с максимальным суммарным расходом, *например:* 8  
  *Пояснение: выявление критического замера для контроля подачи.*

---

